{% macro Button(label, href="#", kind="default") -%}
  {%- set cls = "btn" -%}
  {%- if kind == "primary" -%}{% set cls = cls + " primary" %}{%- endif -%}
  {%- if kind == "danger" -%}{% set cls = cls + " danger" %}{%- endif -%}
  <a class="{{ cls }}" href="{{ href }}">{{ label }}</a>
{%- endmacro %}

{% macro Badge(status) -%}
  {%- if status -%}
    <span class="badge ok">âœ… ConcluÃ­da</span>
  {%- else -%}
    <span class="badge pending">â³ Pendente</span>
  {%- endif -%}
{%- endmacro %}

{% macro CardTask(titulo, descricao, concluida=False) -%}
  <article class="card">
    <h3 class="title">{{ titulo }}</h3>
    {% if descricao %}<p class="muted">{{ descricao }}</p>{% endif %}
    <div class="spacer"></div>
    <div class="row">
      {{ Badge(concluida) }}
      {{ Button("âœï¸ Editar", href="#") }}
      {{ Button("âœ”ï¸ Marcar", href="#", kind="primary") }}
      {{ Button("ğŸ—‘ï¸ Excluir", href="#", kind="danger") }}
    </div>
  </article>
{%- endmacro %}

{% macro Alert(kind="info", title="", message="") -%}
  {%- set palette = {
    "info":   {"emoji":"â„¹ï¸","bg":"#eff6ff","bd":"#bfdbfe","fg":"#1e3a8a"},
    "warn":   {"emoji":"âš ï¸","bg":"#fffbeb","bd":"#fde68a","fg":"#78350f"},
    "danger": {"emoji":"â›”","bg":"#fef2f2","bd":"#fecaca","fg":"#7f1d1d"},
    "success":{"emoji":"âœ…","bg":"#ecfdf5","bd":"#bbf7d0","fg":"#064e3b"}
  } -%}
  {%- set p = palette.get(kind, palette["info"]) -%}
  <div style="background:{{p.bg}};border:1px solid {{p.bd}};color:{{p.fg}};padding:12px 14px;border-radius:12px;">
    <strong>{{p.emoji}} {{ title }}</strong>
    <div class="muted" style="color:inherit;">{{ message }}</div>
  </div>
{%- endmacro %}

{% macro EmptyState(title="Sem tarefas", message="Comece criando sua primeira tarefa!") -%}
  <section class="card center" style="min-height:160px; text-align:center; flex-direction:column;">
    <h3 class="title">{{ title }}</h3>
    <p class="muted">{{ message }}</p>
    <div class="spacer"></div>
    {{ Button("â• Nova Tarefa", href="#", kind="primary") }}
  </section>
{%- endmacro %}
